*************************************************
  RobotPy: Python for FRC cRIO Robot Controller
*************************************************

:Author: Peter Johnson, FRC Team 294
:Copyright: Copyright © 2010, Peter Johnson, Ross Light

About RobotPy
===============

`RobotPy`_ is a distribution of `Python`_ intended to be used for the `FIRST
Robotics Competition`_.  Teams can use this to write their robot code in
Python, a powerful dynamic programming language.

.. _RobotPy: http://firstforge.wpi.edu/sf/projects/robotpy
.. _Python: http://www.python.org/
.. _FIRST Robotics Competition: http://www.usfirst.org/

Features
==========

*  `Python`_ is simple to learn and easy to maintain.
*  RobotPy lets you reload code without restarting.
*  RobotPy provides access to the WPILib class library.
*  You don't need to use WindRiver once the base code is installed.

Installation from Source
==========================

Two steps are required: building the RobotPy interpreter, and building the
loadable modules.

To build the interpreter: open the RobotPy directory as a Wind River project.
Build the project and download the code to your robot.  Now you have the
Python interpreter on the robot.

To build the loadable modules: Run Start|Programs|Wind River|
VxWorks 6.3 and General Purpose Technologies|VxWorks Development Shell.
CD to the directory where you cloned the git repository.  Run "make".

Run ``make_dist.bat``.  Delete the ``dist\RobotPy-Core\robot\ni-rt``
directory tree.

Connect to your robot's IP with an FTP client (e.g. ``ftp://10.XX.YY.2/``,
where XXYY is your team number).  Copy the ``dist\RobotPy-Core\robot`` and
``dist\RobotPy-WPILib\robot`` directory trees to the root (top level)
directory on the robot.

Technical Overview
====================

RobotPy is a packaging of a patched `Python`_ 3.1.2 interpreter (found in the
``Python`` subdirectory of the source code).  All access to the WPILib is
generated by a `SWIG`_ interface, which is found at ``wpilib.i``.  When the
robot is started, it calls upon the PyRobot class to set up the environment,
which initializes the Python interpreter and runs the file ``py/boot.py``.
From there, all responsibility is given to the ``boot.py`` script, which is
referred to as the bootloader.

If ``boot.py`` ever exits (due to an exception, for example), the PyRobot
class waits 5 seconds and then restarts ``boot.py``.  This is how code
reloads are performed.  Note: because of the way code reloads are performed,
changes to ``boot.py`` and parts of the Python system library (files in
lib/python3.1) require a full robot reboot (e.g. power cycle) to reload.

RobotPy uses the same SWIG wrappers for WPILib as the `FIRST Lua`_ project,
created by Ross Light, FRC Team 973.

.. _SWIG: http://www.swig.org/
.. _Greyhound Lua: http://redmine.zombiezen.com/projects/greyhoundlua/

Major Differences from standard Python
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

*  Several Python modules with large and/or incompatible dependencies removed,
   namely: curses, dbm, gdbm, tkinter, nis, ossaudiodev, readline, resource,
   spwd, syslog, termios, audioop, bz2, crypt, grp, ssl, pwd, and mmap.

Licensing
===========

A brief overview of licensing terms:

*  `Python`_: `PSF License`_
*  RobotPy (all other support code): `MIT License`_

.. _PSF License: http://docs.python.org/license.html
.. _MIT License: http://www.opensource.org/licenses/mit-license.php

If you redistribute RobotPy and add other libraries, please include their
licensing information here.

RobotPy
~~~~~~~~~

Copyright © 2010 Peter Johnson

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

WPILib SWIG Wrappers
~~~~~~~~~~~~~~~~~~~~~~

Copyright © 2010 Ross Light

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

.. vim: tw=80 et ts=3 sw=3 ft=rst fenc=utf-8
